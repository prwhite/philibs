/////////////////////////////////////////////////////////////////////
//
//    file: scenevbo.cpp
//
/////////////////////////////////////////////////////////////////////

#define PNIDBGDISABLE
#define PNIPSTDLOGDISABLE

#include "pnilog.h"

#include "scenevbo.h"

#include "sceneogl.h"

#include <iostream>

using namespace std;

/////////////////////////////////////////////////////////////////////

namespace scene {
    
/////////////////////////////////////////////////////////////////////

vbo::vbo():
  mAttrId ( 0 ),
  mIndId( 0 ),
  mArrObjId( 0 )
{
  init ();
}

vbo::~vbo()
{
  clear ();
}

// vbo::vbo(vbo const& rhs)
// {
//   init ();
// }

// vbo& vbo::operator=(vbo const& rhs)
// {
//     
//     return *this;
// }
// 
// bool vbo::operator==(vbo const& rhs) const
// {
//     
//     return false;
// }

/////////////////////////////////////////////////////////////////////

void vbo::bind ( geom* const pGeom )
{
  glBindBuffer( GL_ARRAY_BUFFER, mAttrId );
  glBindBuffer( GL_ELEMENT_ARRAY_BUFFER, mIndId);
}

/////////////////////////////////////////////////////////////////////

void vbo::config ( geom* const pGeom )
{
  glGenBuffers(1, &mAttrId);
  
  bind ( pGeom );
  
CheckGLError

  

}

/////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////

void vbo::init ()
{
  glGenBuffers ( 1, &mAttrId );
}

void vbo::clear ()
{
  glDeleteBuffers ( 1, &mAttrId );
}

/////////////////////////////////////////////////////////////////////
// overrides from attr


/////////////////////////////////////////////////////////////////////


} // end of namespace scene 


